# Global Opacity
windowrulev2 = opacity $applications_opacity,class:.*

# scrcpy specific rules
windowrule = workspace special, class:^(scrcpy)$
windowrulev2 = noblur,class:^(scrcpy.*)
windowrulev2 = opacity 1 override 1,class:^(scrcpy.*)
windowrulev2 = tile,class:^(scrcpy.*)
windowrulev2 = maxsize 450 1080,class:^(scrcpy.*)
windowrulev2 = noclosefor ,class:^(scrcpy.*)

# KDE applications
windowrulev2 = float,class:^(org.kde.kclock.*)
windowrulev2 = size 1000 600,class:^(org.kde.kclock.*)
windowrulev2 = float,class:^(kcm_knetworkmanagement.*)
windowrulev2 = float,class:^(kcm_bluetooth.*)
windowrulev2 = float, class:kcm_.*
windowrulev2 = float, class:.*plasmawindowed.*
windowrulev2 = float, class:.*org.kde.kdeconnect.daemon.*

# Tiling rules
windowrulev2 = tile, class:^dev\.warp\.Warp$

# System utilities
windowrulev2 = float, class:^(blueberry\.py)$
windowrulev2 = float, class:^(guifetch)$
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = size 45%, class:^(pavucontrol)$
windowrulev2 = center, class:^(pavucontrol)$
windowrulev2 = float, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = size 45%, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = center, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = size 45%, class:^(nm-connection-editor)$
windowrulev2 = center, class:^(nm-connection-editor)$

# Hidden/background applications
windowrulev2 = float, class:^(plasma-changeicons)$
windowrulev2 = noinitialfocus, class:^(plasma-changeicons)$
windowrulev2 = move 999999 999999, class:^(plasma-changeicons)$

# Picture in Picture
windowrule = float, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = keepaspectratio, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = move 73% 72%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = size 25%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = float, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = pin, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$

windowrulev2 = float, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = keepaspectratio, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = move 73% 72%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = size 25%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = pin, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$


# Dolphin file manager dialogs
windowrule = float,class:^(org.kde.dolphin)$,title:^(Progress Dialog — Dolphin)$
windowrule = float,class:^(org.kde.dolphin)$,title:^(Copying — Dolphin)$

# Firefox specific windows
windowrule = float,title:^(About Mozilla Firefox)$
windowrule = float,class:^(firefox)$,title:^(Picture-in-Picture)$
windowrule = float,class:^(firefox)$,title:^(Library)$

# System applications
windowrule = float,class:^(vlc)$
windowrule = float,class:^(kvantummanager)$
windowrule = float,class:^(qt5ct)$
windowrule = float,class:^(qt6ct)$
windowrule = float,class:^(nwg-look)$
windowrule = float,class:^(org.kde.ark)$
windowrule = float,class:^(org.pulseaudio.pavucontrol)$
windowrule = float,class:^(blueman-manager)$
windowrule = float,class:^(nm-applet)$
windowrule = float,class:^(nm-connection-editor)$
windowrule = float,class:^(org.kde.polkit-kde-authentication-agent-1)$

# GTK applications
windowrule = float,class:^(Signal)$
windowrule = float,class:^(com.github.rafostar.Clapper)$
windowrule = float,class:^(app.drey.Warp)$
windowrule = float,class:^(net.davidotek.pupgui2)$
windowrule = float,class:^(yad)$
windowrule = float,class:^(eog)$
windowrule = float,class:^(io.github.alainm23.planify)$
windowrule = float,class:^(io.gitlab.theevilskeleton.Upscaler)$
windowrule = float,class:^(com.github.unrud.VideoDownloader)$
windowrule = float,class:^(io.gitlab.adhami3310.Impression)$
windowrule = float,class:^(io.missioncenter.MissionCenter)$

# Common modal dialogs - float and center
windowrule = float,title:^(Open)$
windowrule = float, title:^(Authentication Required)$
windowrule = float, title:^(Add Folder to Workspace)$
# windowrule = float,initialtitle:^(Open File)$
windowrule = float,title:^(Choose Files)$
windowrule = float,title:^(Save As)$
windowrule = float,title:^(Confirm to replace files)$
windowrule = float,title:^(File Operation Progress)$
windowrule = float,class:^([Xx]dg-desktop-portal-gtk)$
windowrule = float, title:^(File Upload)(.*)$
windowrule = float, title:^(Choose wallpaper)(.*)$
windowrule = float, title:^(Library)(.*)$
windowrule = float,class:^(.*dialog.*)$
windowrule = float,title:^(.*dialog.*)$

# Dialog windows with centering
# windowrulev2 = center, title:^(Open File)(.*)$
windowrulev2 = center, title:^(Select a File)(.*)$
windowrulev2 = center, title:^(Choose wallpaper)(.*)$
windowrulev2 = center, title:^(Open Folder)(.*)$
windowrulev2 = center, title:^(Save As)(.*)$
windowrulev2 = center, title:^(Library)(.*)$
windowrulev2 = center, title:^(File Upload)(.*)$
windowrulev2 = float, title:^(Open File)(.*)$
windowrulev2 = float, title:^(Select a File)(.*)$
windowrulev2 = float, title:^(Choose wallpaper)(.*)$
windowrulev2 = float, title:^(Open Folder)(.*)$
windowrulev2 = float, title:^(Save As)(.*)$
windowrulev2 = float, title:^(Library)(.*)$
windowrulev2 = float, title:^(File Upload)(.*)$

# ===== TEARING RULES =====
windowrulev2 = immediate, title:.*\.exe
windowrulev2 = immediate, class:^(steam_app)
windowrulev2 = fullscreenstate 2, class:^(steam_app)


# QuickShell
layerrule = ignorealpha 0.35, noon.*
layerrule = blur, noon.*

layerrule = animation slide, noon:sidebar
layerrule = animation slide, noon:notificationPopup
layerrule = animation slide, noon:bar
layerrule = animation slide, noon:beam
layerrule = animation slide, noon:osd
layerrule = animation slide, noon:dock

layerrule = noanim, noon:session
layerrule = noanim, noon:overview
layerrule = noanim, noon:bg
layerrule = noanim, noon:border
layerrule = noanim, noon:screenCorners

layerrule = animation fadeInOut, noon:greetd
layerrule = animation fadeInOut, noon:lock

layerrule = dimaround, noon:expose
layerrule = animation fadeIn ,noon:expose

layerrule = ignorealpha 1, noon:wallpaper
layerrule = ignorealpha 1, noon:screenCorners