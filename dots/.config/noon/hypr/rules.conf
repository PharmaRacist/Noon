$opacity=1
# DONT EDIT FIRST LINE !
# ===== WORKSPACE RULES =====
windowrule = workspace special, class:^(spotify)$
windowrule = workspace special, class:^(scrcpy)$

# ===== WINDOW BEHAVIOR RULES =====
# scrcpy specific rules
windowrulev2 = noblur,class:^(scrcpy.*)
windowrulev2 = opacity 1 override 1,class:^(scrcpy.*)
windowrulev2 = tile,class:^(scrcpy.*)
windowrulev2 = maxsize 450 1080,class:^(scrcpy.*)
windowrulev2 = noclosefor ,class:^(scrcpy.*)

# KDE applications
windowrulev2 = float,class:^(org.kde.kclock.*)
windowrulev2 = size 1000 600,class:^(org.kde.kclock.*)
windowrulev2 = float,class:^(kcm_knetworkmanagement.*)
windowrulev2 = float,class:^(kcm_bluetooth.*)
windowrulev2 = float, class:kcm_.*
windowrulev2 = float, class:.*plasmawindowed.*
windowrulev2 = float, class:.*org.kde.kdeconnect.daemon.*

# Media and playlist rules
windowrulev2 = float,title:^(Playlist.*)

# Tiling rules
windowrulev2 = tile, class:^dev\.warp\.Warp$

# System utilities
windowrulev2 = float, class:^(blueberry\.py)$
windowrulev2 = float, class:^(guifetch)$
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = size 45%, class:^(pavucontrol)$
windowrulev2 = center, class:^(pavucontrol)$
windowrulev2 = float, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = size 45%, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = center, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = size 45%, class:^(nm-connection-editor)$
windowrulev2 = center, class:^(nm-connection-editor)$

# Hidden/background applications
windowrulev2 = float, class:^(plasma-changeicons)$
windowrulev2 = noinitialfocus, class:^(plasma-changeicons)$
windowrulev2 = move 999999 999999, class:^(plasma-changeicons)$

# ===== PICTURE-IN-PICTURE RULES =====
windowrule = float, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = keepaspectratio, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = move 73% 72%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = size 25%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = float, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrule = pin, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$

windowrulev2 = float, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = keepaspectratio, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = move 73% 72%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = size 25%, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$
windowrulev2 = pin, title:^([Pp]icture[-\s]?[Ii]n[-\s]?[Pp]icture)(.*)$

# ===== TRANSPARENCY RULES =====
# High transparency (0.90) - Browsers and important applications
windowrule = opacity $opacity override $opacity override 1,class:^(firefox)$
windowrule = opacity $opacity override $opacity override 1,class:^(brave-browser)$
windowrule = opacity $opacity 0.90,class:^(com.github.rafostar.Clapper)$

# Medium transparency (0.80) - Development tools,, file managers
windowrule = opacity $opacity override $opacity override 1,class:^(code-oss)$
windowrule = opacity $opacity override $opacity override 1,class:^([Cc]ode)$
windowrule = opacity $opacity override $opacity override 1,class:^(dev.zed.*)$
windowrule = opacity $opacity override $opacity override 1,class:^(code-url-handler)$
windowrule = opacity $opacity override $opacity override 1,class:^(code-insiders-url-handler)$
windowrule = opacity $opacity override $opacity override 1,class:^(org.kde.dolphin)$
windowrule = opacity $opacity override $opacity override 1,class:^(org.kde.ark)$
windowrule = opacity $opacity override $opacity override 1,class:^(nwg-look)$
windowrule = opacity $opacity override $opacity override 1,class:^(qt5ct)$
windowrule = opacity $opacity override $opacity override 1,class:^(qt6ct)$
windowrule = opacity $opacity override $opacity override 1,class:^(kvantummanager)$
windowrule = opacity $opacity override $opacity override 1,class:^(org.pulseaudio.pavucontrol)$
windowrule = opacity $opacity override $opacity override 1,class:^(blueman-manager)$
windowrule = opacity $opacity override $opacity override 1,class:^(nm-applet)$
windowrule = opacity $opacity override $opacity override 1,class:^(nm-connection-editor)$
windowrule = opacity $opacity override $opacity override 1,class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrule = opacity $opacity override $opacity override 1,class:^(polkit-gnome-authentication-agent-1)$
windowrule = opacity $opacity override $opacity override 1,class:^(org.freedesktop.impl.portal.desktop.gtk)$
windowrule = opacity $opacity override $opacity override 1,class:^(org.freedesktop.impl.portal.desktop.hyprland)$

# Medium transparency for GTK applications
windowrule = opacity $opacity override,class:^(com.github.tchx84.Flatseal)$
windowrule = opacity $opacity override,class:^(hu.kramo.Cartridges)$
windowrule = opacity $opacity override,class:^(com.obsproject.Studio)$
windowrule = opacity $opacity override,class:^(gnome-boxes)$
windowrule = opacity $opacity override,class:^(vesktop)$
windowrule = opacity $opacity override,class:^(discord)$
windowrule = opacity $opacity override,class:^(WebCord)$
windowrule = opacity $opacity override,class:^(ArmCord)$
windowrule = opacity $opacity override,class:^(app.drey.Warp)$
windowrule = opacity $opacity override,class:^(net.davidotek.pupgui2)$
windowrule = opacity $opacity override,class:^(yad)$
windowrule = opacity $opacity override,class:^(Signal)$
windowrule = opacity $opacity override,class:^(io.github.alainm23.planify)$
windowrule = opacity $opacity override,class:^(io.gitlab.theevilskeleton.Upscaler)$
windowrule = opacity $opacity override,class:^(com.github.unrud.VideoDownloader)$
windowrule = opacity $opacity override,class:^(io.gitlab.adhami3310.Impression)$
windowrule = opacity $opacity override,class:^(io.missioncenter.MissionCenter)$
windowrule = opacity $opacity override,class:^(io.github.flattool.Warehouse)$

# Low transparency (0.70) - Games, media applications
windowrule = opacity $opacity override $opacity override 1,class:^([Ss]team)$
windowrule = opacity $opacity override $opacity override 1,class:^(steamwebhelper)$
windowrule = opacity $opacity override $opacity override 1,class:^([Ss]potify)$
windowrule = opacity $opacity override $opacity override 1,initialTitle:^(Spotify Free)$
windowrule = opacity $opacity override $opacity override 1,initialTitle:^(Spotify Premium)$

# ===== FLOATING WINDOW RULES =====
# Dolphin file manager dialogs
windowrule = float,class:^(org.kde.dolphin)$,title:^(Progress Dialog — Dolphin)$
windowrule = float,class:^(org.kde.dolphin)$,title:^(Copying — Dolphin)$

# Firefox specific windows
windowrule = float,title:^(About Mozilla Firefox)$
windowrule = float,class:^(firefox)$,title:^(Picture-in-Picture)$
windowrule = float,class:^(firefox)$,title:^(Library)$

# System applications
windowrule = float,class:^(vlc)$
windowrule = float,class:^(kvantummanager)$
windowrule = float,class:^(qt5ct)$
windowrule = float,class:^(qt6ct)$
windowrule = float,class:^(nwg-look)$
windowrule = float,class:^(org.kde.ark)$
windowrule = float,class:^(org.pulseaudio.pavucontrol)$
windowrule = float,class:^(blueman-manager)$
windowrule = float,class:^(nm-applet)$
windowrule = float,class:^(nm-connection-editor)$
windowrule = float,class:^(org.kde.polkit-kde-authentication-agent-1)$

# GTK applications
windowrule = float,class:^(Signal)$
windowrule = float,class:^(com.github.rafostar.Clapper)$
windowrule = float,class:^(app.drey.Warp)$
windowrule = float,class:^(net.davidotek.pupgui2)$
windowrule = float,class:^(yad)$
windowrule = float,class:^(eog)$
windowrule = float,class:^(io.github.alainm23.planify)$
windowrule = float,class:^(io.gitlab.theevilskeleton.Upscaler)$
windowrule = float,class:^(com.github.unrud.VideoDownloader)$
windowrule = float,class:^(io.gitlab.adhami3310.Impression)$
windowrule = float,class:^(io.missioncenter.MissionCenter)$

# ===== DIALOG WINDOW RULES =====
# Common modal dialogs - float and center
windowrule = float,title:^(Open)$
windowrule = float, title:^(Authentication Required)$
windowrule = float, title:^(Add Folder to Workspace)$
# windowrule = float,initialtitle:^(Open File)$
windowrule = float,title:^(Choose Files)$
windowrule = float,title:^(Save As)$
windowrule = float,title:^(Confirm to replace files)$
windowrule = float,title:^(File Operation Progress)$
windowrule = float,class:^([Xx]dg-desktop-portal-gtk)$
windowrule = float, title:^(File Upload)(.*)$
windowrule = float, title:^(Choose wallpaper)(.*)$
windowrule = float, title:^(Library)(.*)$
windowrule = float,class:^(.*dialog.*)$
windowrule = float,title:^(.*dialog.*)$

# Dialog windows with centering
# windowrulev2 = center, title:^(Open File)(.*)$
windowrulev2 = center, title:^(Select a File)(.*)$
windowrulev2 = center, title:^(Choose wallpaper)(.*)$
windowrulev2 = center, title:^(Open Folder)(.*)$
windowrulev2 = center, title:^(Save As)(.*)$
windowrulev2 = center, title:^(Library)(.*)$
windowrulev2 = center, title:^(File Upload)(.*)$
windowrulev2 = float, title:^(Open File)(.*)$
windowrulev2 = float, title:^(Select a File)(.*)$
windowrulev2 = float, title:^(Choose wallpaper)(.*)$
windowrulev2 = float, title:^(Open Folder)(.*)$
windowrulev2 = float, title:^(Save As)(.*)$
windowrulev2 = float, title:^(Library)(.*)$
windowrulev2 = float, title:^(File Upload)(.*)$

# ===== TEARING RULES =====
windowrulev2 = immediate, title:.*\.exe
windowrulev2 = immediate, class:^(steam_app)
windowrulev2 = fullscreenstate 2, class:^(steam_app)


# ===== WORKSPACE RULES ======
layerrule = ignorealpha 0.35, noon.*
layerrule = blur, noon.*
layerrule = animation slide right, noon:sidebarLauncher
layerrule = animation slide right, noon:onScreenDisplay
layerrule = animation slide left, noon:leftOnScreenDisplay
layerrule = animation slide right, noon:playlist
layerrule = animation slide right, noon:sidebarRight
layerrule = animation slide, noon:notificationPopup
layerrule = animation slide left, noon:dashboardLeft
layerrule = animation slide, noon:bar
layerrule = noanim, noon:border
layerrule = animation slide bottom, noon:beam
layerrule = animation slide bottom, noon:osd
layerrule = animation slide bottom, noon:osk
layerrule = animation slide bottom, noon:dock
layerrule = animation slide, noon:mediaControls
layerrule = animation fade, noon:screenCorners
layerrule = ignorealpha 1,noon:screenCorners
layerrule = ignorealpha 1, noon:wallpaper
layerrule = noanim, noon:session
layerrule = noanim, noon:overview
layerrule = animation fadeInOut, noon:polkit
layerrule = noanim, noon:bg
layerrule = animation fadeInOut ,noon:greetd
layerrule = animation fadeInOut ,noon:lock
layerrule = animation fadeInOut ,noon:screenFrame
layerrule = animation fadeInOut ,noon:screenCorners
layerrule = animation fadeIn ,noon:expose
layerrule = dimaround, noon:expose
